
select *  ,   Perc = cast(CountNumberOfCars as float)  / cast(totalCars as float) from(
select Makes.Make , 
count(ID) as CountNumberOfCars   , TotalCars = (select count(*) from VehicleDetails) 
from VehicleDetails inner join Makes 
on Makes.MakeID = VehicleDetails.MakeID
where VehicleDetails.Year between 1950 and 2000
group by Makes.Make
) R1
order by CountNumberOfCars desc
